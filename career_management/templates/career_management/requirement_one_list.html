<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¦ä»¶â… ï¼šä»»ç”¨è¦ä»¶ã¨è³ƒé‡‘ä½“ç³» - {{ facility.name }}</title>
    <style>
        body { font-family: 'Hiragino Sans', sans-serif; max-width: 1400px; margin: 0 auto; padding: 20px; background: #f5f5f5; }
        h1 { color: #333; margin-bottom: 10px; }
        .facility-name { color: #666; margin-bottom: 30px; }
        .back-link { display: inline-block; margin-bottom: 20px; padding: 10px 20px; background: #6c757d; color: white; text-decoration: none; border-radius: 5px; }
        .back-link:hover { background: #5a6268; }
        
        .positions-table { width: 100%; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .positions-table table { width: 100%; border-collapse: collapse; }
        .positions-table th { background: #667eea; color: white; padding: 15px; text-align: left; font-weight: bold; }
        .positions-table td { padding: 15px; border-bottom: 1px solid #eee; }
        .positions-table tr:hover { background: #f8f9fa; }
        .positions-table tr:last-child td { border-bottom: none; }
        
        .status-badge { padding: 5px 10px; border-radius: 3px; font-size: 0.9em; font-weight: bold; }
        .status-badge.complete { background: #d4edda; color: #155724; }
        .status-badge.incomplete { background: #fff3cd; color: #856404; }
        
        .action-btn { display: inline-block; padding: 8px 15px; background: #667eea; color: white; text-decoration: none; border-radius: 5px; font-size: 0.9em; }
        .action-btn:hover { background: #5568d3; }
        
        .salary-range { color: #28a745; font-weight: bold; }
        
        .info-box { background: #d1ecf1; padding: 20px; border-radius: 8px; margin-top: 30px; border-left: 4px solid #0c5460; }
        .info-box h3 { margin-top: 0; color: #0c5460; }
        .info-box p { color: #0c5460; line-height: 1.6; }
    </style>
</head>
<body>
    <a href="{% url 'career_path_requirements_index' facility.id %}" class="back-link">â† ã‚­ãƒ£ãƒªã‚¢ãƒ‘ã‚¹è¦ä»¶è¨­è¨ˆã«æˆ»ã‚‹</a>
    
    <h1>ğŸ“ è¦ä»¶â… ï¼šä»»ç”¨è¦ä»¶ã¨è³ƒé‡‘ä½“ç³»</h1>
    <p class="facility-name">{{ facility.name }}</p>
    
    <div class="positions-table">
        <table>
            <thead>
                <tr>
                    <th>è·ç¨®</th>
                    <th>è·ä½</th>
                    <th>ãƒ¬ãƒ™ãƒ«</th>
                    <th>å¿…è¦çµŒé¨“å¹´æ•°</th>
                    <th>è³ƒé‡‘ç¯„å›²</th>
                    <th>è¨­å®šçŠ¶æ³</th>
                    <th>æ“ä½œ</th>
                </tr>
            </thead>
            <tbody>
                {% for data in positions_data %}
                <tr>
                    <td>{{ data.position.get_job_category_display }}</td>
                    <td><strong>{{ data.position.position_name }}</strong></td>
                    <td>{{ data.position.level }}</td>
                    <td>
                        {% if data.has_requirement %}
                            {{ data.requirement.required_experience_years }}å¹´ä»¥ä¸Š
                        {% else %}
                            <span style="color: #999;">æœªè¨­å®š</span>
                        {% endif %}
                    </td>
                    <td>
                        {% if data.has_requirement %}
                            <span class="salary-range">
                                {{ data.requirement.base_salary_min|floatformat:0 }}å††
                                ã€œ
                                {{ data.requirement.base_salary_max|floatformat:0 }}å††
                            </span>
                        {% else %}
                            <span style="color: #999;">æœªè¨­å®š</span>
                        {% endif %}
                    </td>
                    <td>
                        {% if data.has_requirement %}
                            <span class="status-badge complete">âœ“ è¨­å®šæ¸ˆã¿</span>
                        {% else %}
                            <span class="status-badge incomplete">æœªè¨­å®š</span>
                        {% endif %}
                    </td>
                    <td>
                        <a href="{% url 'requirement_one_edit' facility.id data.position.id %}" class="action-btn">
                            {% if data.has_requirement %}ç·¨é›†{% else %}è¨­å®š{% endif %}
                        </a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="7" style="text-align: center; padding: 40px; color: #999;">
                        è·ä½ãŒç™»éŒ²ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚<br>
                        ã¾ãš<a href="/admin/career_management/position/" style="color: #667eea;">ç®¡ç†ç”»é¢</a>ã‹ã‚‰è·ä½ã‚’ç™»éŒ²ã—ã¦ãã ã•ã„ã€‚
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    
    <div class="info-box">
        <h3>ğŸ’¡ ä»»ç”¨è¦ä»¶ã¨è³ƒé‡‘ä½“ç³»ã«ã¤ã„ã¦</h3>
        <p>
            ã‚­ãƒ£ãƒªã‚¢ãƒ‘ã‚¹è¦ä»¶â… ã§ã¯ã€å„è·ä½ã«ã¤ã„ã¦ä»¥ä¸‹ã‚’æ˜ç¢ºåŒ–ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š
        </p>
        <ul style="color: #0c5460; line-height: 1.8;">
            <li><strong>ä»»ç”¨è¦ä»¶</strong>ï¼šãã®è·ä½ã«å°±ããŸã‚ã«å¿…è¦ãªè³‡æ ¼ãƒ»çµŒé¨“å¹´æ•°ãƒ»ã‚¹ã‚­ãƒ«</li>
            <li><strong>è·å‹™å†…å®¹</strong>ï¼šå…·ä½“çš„ãªæ¥­å‹™å†…å®¹ãƒ»è²¬ä»»ç¯„å›²ãƒ»æ¨©é™</li>
            <li><strong>è³ƒé‡‘ä½“ç³»</strong>ï¼šåŸºæœ¬çµ¦ã®ç¯„å›²ãƒ»å„ç¨®æ‰‹å½“ãƒ»æ˜‡çµ¦ãƒ«ãƒ¼ãƒ«</li>
        </ul>
        <p>
            ã“ã‚Œã‚‰ã‚’æ–‡æ›¸åŒ–ã™ã‚‹ã“ã¨ã§ã€è·å“¡ã®ã‚­ãƒ£ãƒªã‚¢ãƒ‘ã‚¹ãŒæ˜ç¢ºã«ãªã‚Šã€
            å‡¦é‡æ”¹å–„åŠ ç®—ã®è¦ä»¶â… ã‚’æº€ãŸã™ã“ã¨ãŒã§ãã¾ã™ã€‚
        </p>
    </div>
</body>
</html>
